---
title: Benchmarks
---

import { Aside } from "@astrojs/starlight/components";

When deploying Smelter, it is essential to choose a server with an adequate processing power. To assist in this process, we have developed a series of benchmarks.

Each of the following examples is testing max number of inputs and outputs that the instance can handle. It provides 3 variants with different ratio of inputs to outputs. Each output renders 1, 2 or 4 inputs using tiles.

#### Overview

- **Capacity Testing**: Each test examines the maximum number of inputs and outputs the server instance can handle.
- **Processing Details**: We're testing exaples with 1, 2, or 4 inputs, each using Tiles component.

You can see the most important benchmarks below. Visit our <a href="https://github.com/software-mansion/smelter/tree/master/integration_tests/benchmarks" target="_blank">GitHub repository</a> for more results and the exact implementation of the benchmarks.

### `g4dn.xlarge`

**CPU**: 4vCPU, **Memory**: 16GB, **GPU**: Nvidia T4

- **Input**: 720p24fps, **Output**: 720p24fps
  | Input/output ratio | Encoder preset | Max inputs | Max outputs |
  | ------------------ | -------------- | ---------- | ----------- |
  | 1:1 | ultrafast | **12** | **12** |
  | 1:1 | veryfast | **6** | **6** |
  | 1:1 | fast | **3** | **3** |
  | 2:1 | ultrafast | **26** | **13** |
  | 2:1 | veryfast | **14** | **7** |
  | 2:1 | fast | **6** | **3** |
  | 4:1 | ultrafast | **32** | **8** |
  | 4:1 | veryfast | **20** | **5** |
  | 4:1 | fast | **8** | **2** |

- **Input**: 1080p 30fps, **Output**: 1080p 30fps
  | Input/output ratio | Encoder preset | Max inputs | Max outputs |
  | ------------------ | -------------- | ---------- | ----------- |
  | 1:1 | ultrafast | **5** | **5** |
  | 1:1 | veryfast | **2** | **2** |
  | 1:1 | fast | **1** | **1** |
  | 2:1 | ultrafast | **10** | **5** |
  | 2:1 | veryfast | **6** | **3** |
  | 2:1 | fast | **2** | **1** |
  | 4:1 | ultrafast | **16** | **4** |
  | 4:1 | veryfast | **8** | **2** |
  | 4:1 | fast | **-** | **-** |

### `c4dn.2xlarge`

**CPU**: 16vCPU, **Memory**: 32GB, **GPU**: Nvidia T4

- **Input**: 720p24fps, **Output**: 720p24fps
  | Input/output ratio | Encoder preset | Max inputs | Max outputs |
  | ------------------ | -------------- | ---------- | ----------- |
  | 1:1 | ultrafast | **22** | **22** |
  | 1:1 | veryfast | **12** | **12** |
  | 1:1 | fast | **6** | **6** |
  | 2:1 | ultrafast | **36** | **18** |
  | 2:1 | veryfast | **28** | **14** |
  | 2:1 | fast | **14** | **7** |
  | 4:1 | ultrafast | **36** | **9** |
  | 4:1 | veryfast | **36** | **9** |
  | 4:1 | fast | **16** | **4** |

- **Input**: 1080p30fps, **Output**: 1080p30fps
  | Input/output ratio | Encoder preset | Max inputs | Max outputs |
  | ------------------ | -------------- | ---------- | ----------- |
  | 1:1 | ultrafast | **10** | **10** |
  | 1:1 | veryfast | **4** | **4** |
  | 1:1 | fast | **2** | **2** |
  | 2:1 | ultrafast | **18** | **9** |
  | 2:1 | veryfast | **12** | **6** |
  | 2:1 | fast | **6** | **3** |
  | 4:1 | ultrafast | **20** | **5** |
  | 4:1 | veryfast | **16** | **4** |
  | 4:1 | fast | **4** | **1** |

### `c5.2xlarge`

**CPU**: 8vCPU, **Memory**: 16GB

- **Input**: 720p24fps, **Output**: 720p24fps
  | Input/output ratio | Encoder preset | Max inputs | Max outputs |
  | ------------------ | -------------- | ---------- | ----------- |
  | 1:1 | ultrafast | **1** | **1** |
  | 1:1 | veryfast | **1** | **1** |
  | 1:1 | fast | **1** | **1** |
  | 2:1 | ultrafast | **2** | **1** |
  | 2:1 | veryfast | **2** | **1** |
  | 2:1 | fast | **2** | **1** |
  | 4:1 | ultrafast | **4** | **1** |
  | 4:1 | veryfast | **-** | **-** |
  | 4:1 | fast | **-** | **-** |

### `c5.4xlarge`

**CPU**: 16vCPU, **Memory**: 32GB

- **Input**: 720p24fps, **Output**: 720p24fps
  | Input/output ratio | Encoder preset | Max inputs | Max outputs |
  | ------------------ | -------------- | ---------- | ----------- |
  | 1:1 | ultrafast | **3** | **3** |
  | 1:1 | veryfast | **3** | **3** |
  | 1:1 | fast | **2** | **2** |
  | 2:1 | ultrafast | **6** | **3** |
  | 2:1 | veryfast | **4** | **2** |
  | 2:1 | fast | **4** | **2** |
  | 4:1 | ultrafast | **4** | **1** |
  | 4:1 | veryfast | **4** | **1** |
  | 4:1 | fast | **4** | **1** |
